var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},s=(n,r,a)=>(a=n==null?{}:e(i(n)),o(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));const c=s(require(`numeric-quantity`)),l={additionalUOMs:{},allowLeadingOf:!1,normalizeUOM:!1,ignoreUOMs:[]},u=[`For`],d=RegExp(`^(?:${u.join(`|`)})\\s`,`i`),f=[`or`,`to`],p=`(-|–|—|(?:${f.join(`|`)})\\s)`,m=RegExp(`^${p}`,`i`),h=/^(fl(?:uid)?(?:\s+|-)(?:oz|ounces?)|\w+[-.]?)(.+)?/,g=c.numericRegex.source.replace(/^\^/,``).replace(/\$$/,``),_=RegExp(`(,|:|-|–|—|x|⨯)?\\s*((${g})\\s*(${p}))?\\s*(${g})\\s*(fl(?:uid)?(?:\\s+|-)(?:oz|ounces?)|\\w+)?$`,`i`),v=[`of`],y=RegExp(`^(?:${v.join(`|`)})\\s+`,`i`),b=[`from`,`of`],x=RegExp(`\\s+(?:${b.join(`|`)})$`,`i`),S={bag:{short:`bag`,plural:`bags`,alternates:[]},box:{short:`box`,plural:`boxes`,alternates:[]},bunch:{short:`bunch`,plural:`bunches`,alternates:[]},can:{short:`can`,plural:`cans`,alternates:[]},carton:{short:`carton`,plural:`cartons`,alternates:[]},centimeter:{short:`cm`,plural:`centimeters`,alternates:[`cm.`]},clove:{short:`clove`,plural:`cloves`,alternates:[]},container:{short:`container`,plural:`containers`,alternates:[]},cup:{short:`c`,plural:`cups`,alternates:[`c.`,`C`]},dash:{short:`dash`,plural:`dashes`,alternates:[]},drop:{short:`drop`,plural:`drops`,alternates:[]},ear:{short:`ear`,plural:`ears`,alternates:[]},"fluid ounce":{short:`fl oz`,plural:`fluid ounces`,alternates:[`fluidounce`,`floz`,`fl-oz`,`fluid-ounce`,`fluid-ounces`,`fluidounces`,`fl ounce`,`fl ounces`,`fl-ounce`,`fl-ounces`,`fluid oz`,`fluid-oz`]},foot:{short:`ft`,plural:`feet`,alternates:[`ft.`]},gallon:{short:`gal`,plural:`gallons`,alternates:[`gal.`]},gram:{short:`g`,plural:`grams`,alternates:[`g.`]},head:{short:`head`,plural:`heads`,alternates:[]},inch:{short:`in`,plural:`inches`,alternates:[`in.`]},kilogram:{short:`kg`,plural:`kilograms`,alternates:[`kg.`]},large:{short:`lg`,plural:`large`,alternates:[`lg`,`lg.`]},liter:{short:`l`,plural:`liters`,alternates:[`l.`]},medium:{short:`md`,plural:`medium`,alternates:[`med`,`med.`,`md.`]},meter:{short:`m`,plural:`meters`,alternates:[`m.`]},milligram:{short:`mg`,plural:`milligrams`,alternates:[`mg.`]},milliliter:{short:`ml`,plural:`milliliters`,alternates:[`mL`,`ml.`,`mL.`]},millimeter:{short:`mm`,plural:`millimeters`,alternates:[`mm.`]},ounce:{short:`oz`,plural:`ounces`,alternates:[`oz.`]},pack:{short:`pack`,plural:`packs`,alternates:[]},package:{short:`pkg`,plural:`packages`,alternates:[`pkg.`,`pkgs`,`pkgs.`]},piece:{short:`piece`,plural:`pieces`,alternates:[`pc`,`pc.`,`pcs`,`pcs.`]},pinch:{short:`pinch`,plural:`pinches`,alternates:[]},pint:{short:`pt`,plural:`pints`,alternates:[`pt.`]},pound:{short:`lb`,plural:`pounds`,alternates:[`lb.`,`lbs`,`lbs.`]},quart:{short:`qt`,plural:`quarts`,alternates:[`qt.`,`qts`,`qts.`]},small:{short:`sm`,plural:`small`,alternates:[`sm.`]},sprig:{short:`sprig`,plural:`sprigs`,alternates:[]},stick:{short:`stick`,plural:`sticks`,alternates:[]},tablespoon:{short:`tbsp`,plural:`tablespoons`,alternates:[`tbsp.`,`T`,`Tbsp.`,`Tbsp`]},teaspoon:{short:`tsp`,plural:`teaspoons`,alternates:[`tsp.`,`t`]},yard:{short:`yd`,plural:`yards`,alternates:[`yd.`,`yds.`]}},C=/\r?\n/,w=([e,t])=>({id:e,...t}),T=(e,t=l)=>{let n={...l,...t},r={...S,...n.additionalUOMs},i=Object.entries(r).map(w),a=i.length,o=e.split(C).map(e=>e.trim()).filter(Boolean);return o.map(e=>{let t={quantity:null,quantity2:null,unitOfMeasureID:null,unitOfMeasure:null,description:``,isGroupHeader:!1};if(!isNaN((0,c.numericQuantity)(e[0]))||e[0]===`.`&&!isNaN((0,c.numericQuantity)(e.slice(0,2)))){let n=6,r=NaN;for(;n>0&&isNaN(r);)r=(0,c.numericQuantity)(e.substring(0,n).trim()),r>-1&&(t.quantity=r,t.description=e.substring(n).trim()),n--}else{var r;let o=_.exec(e);if(o&&n.ignoreUOMs.includes((r=o.at(-1))==null?``:r))t.description=e;else if(o){t.description=e.replace(_,``).trim();let r=o[3],s=o[12];r?(t.quantity=(0,c.numericQuantity)(r),t.quantity2=(0,c.numericQuantity)(s)):t.quantity=(0,c.numericQuantity)(s);let l=o.at(-1);if(l){let e=``,r=``,o=-1;for(;++o<a&&!e;){let{alternates:t,id:n,short:a,plural:s}=i[o],c=[...t,n,a,s];c.includes(l)&&(e=l,r=n)}e?(t.unitOfMeasureID=r,t.unitOfMeasure=n.normalizeUOM?r:e):t.description.match(x)&&(t.description+=` ${l}`)}}else t.description=e,(t.description.endsWith(`:`)||d.test(t.description))&&(t.isGroupHeader=!0)}let o=m.exec(t.description);if(o){let e=o[1].length,n=(0,c.numericQuantity)(t.description.substring(e).trim()[0]);if(!isNaN(n)){let n=7,r=NaN;for(;--n>0&&isNaN(r);)r=(0,c.numericQuantity)(t.description.substring(e,n)),isNaN(r)||(t.quantity2=r,t.description=t.description.substring(n).trim())}}let s=h.exec(t.description);if(s){var l;let e=s[1].replace(/\s+/g,` `),r=((l=s[2])==null?``:l).trim();if(r){let o=``,s=``,c=-1;for(;++c<a&&!o;){let{alternates:t,id:r,short:a,plural:l}=i[c],u=[...t,r,a,l].filter(e=>!n.ignoreUOMs.includes(e));u.includes(e)&&(o=e,s=r)}o&&(t.unitOfMeasureID=s,t.unitOfMeasure=n.normalizeUOM?s:o,t.description=r)}}return!n.allowLeadingOf&&t.description.match(y)&&(t.description=t.description.replace(y,``)),t})};exports.defaultOptions=l,exports.firstWordRegEx=h,exports.fors=u,exports.forsRegEx=d,exports.fromRegEx=x,exports.froms=b,exports.ofRegEx=y,exports.ofs=v,exports.parseIngredient=T,exports.rangeSeparatorRegEx=m,exports.rangeSeparatorWords=f,exports.trailingQuantityRegEx=_,exports.unitsOfMeasure=S;
//# sourceMappingURL=parse-ingredient.cjs.production.js.map