{"version":3,"file":"parse-ingredient.legacy-esm.js","names":["defaultOptions: Required<ParseIngredientOptions>","forsRegEx: RegExp","rangeSeparatorRegEx: RegExp","firstWordRegEx: RegExp","trailingQuantityRegEx: RegExp","ofRegEx: RegExp","fromRegEx: RegExp","unitsOfMeasure: UnitOfMeasureDefinitions","o","r","oIng: Ingredient"],"sources":["../src/constants.ts","../node_modules/@oxc-project/runtime/src/helpers/esm/typeof.js","../node_modules/@oxc-project/runtime/src/helpers/esm/toPrimitive.js","../node_modules/@oxc-project/runtime/src/helpers/esm/toPropertyKey.js","../node_modules/@oxc-project/runtime/src/helpers/esm/defineProperty.js","../node_modules/@oxc-project/runtime/src/helpers/esm/objectSpread2.js","../src/parseIngredient.ts"],"sourcesContent":["import { numericRegex } from 'numeric-quantity';\nimport { ParseIngredientOptions, UnitOfMeasureDefinitions } from './types';\n\n/**\n * Default options for {@link parseIngredient}.\n */\nexport const defaultOptions: Required<ParseIngredientOptions> = {\n  additionalUOMs: {},\n  allowLeadingOf: false,\n  normalizeUOM: false,\n  ignoreUOMs: [],\n} as const;\n\n/**\n * List of \"for\" equivalents (for upcoming i18n support).\n */\nexport const fors = ['For'] as const;\n/**\n * Regex to capture \"for\" equivalents (for upcoming i18n support).\n */\nexport const forsRegEx: RegExp = new RegExp(`^(?:${fors.join('|')})\\\\s`, 'i');\n\n/**\n * List of range separators (for upcoming i18n support).\n */\nexport const rangeSeparatorWords = ['or', 'to'] as const;\nconst rangeSeparatorRegExSource = `(-|–|—|(?:${rangeSeparatorWords.join('|')})\\\\s)`;\n/**\n * Regex to capture range separators (for upcoming i18n support).\n */\nexport const rangeSeparatorRegEx: RegExp = new RegExp(`^${rangeSeparatorRegExSource}`, 'i');\n\n/**\n * Regex to capture the first word of a description, to see if it's a unit of measure.\n */\nexport const firstWordRegEx: RegExp = /^(fl(?:uid)?(?:\\s+|-)(?:oz|ounces?)|\\w+[-.]?)(.+)?/;\n\nconst numericRegexAnywhere = numericRegex.source.replace(/^\\^/, '').replace(/\\$$/, '');\n\n/**\n * Regex to capture trailing quantity and unit of measure.\n */\nexport const trailingQuantityRegEx: RegExp = new RegExp(\n  `(,|:|-|–|—|x|⨯)?\\\\s*((${numericRegexAnywhere})\\\\s*(${rangeSeparatorRegExSource}))?\\\\s*(${numericRegexAnywhere})\\\\s*(fl(?:uid)?(?:\\\\s+|-)(?:oz|ounces?)|\\\\w+)?$`,\n  'i'\n);\n\n/**\n * List of \"of\" equivalents (for upcoming i18n support).\n */\nexport const ofs = ['of'] as const;\n/**\n * Regex to capture \"of\" equivalents at the beginning of a string (for upcoming i18n support).\n */\nexport const ofRegEx: RegExp = new RegExp(`^(?:${ofs.join('|')})\\\\s+`, 'i');\n\n/**\n * List of \"from\" equivalents (for upcoming i18n support).\n */\nexport const froms = ['from', 'of'] as const;\n/**\n * Regex to capture \"from\" equivalents at the end of a string (for upcoming i18n support).\n */\nexport const fromRegEx: RegExp = new RegExp(`\\\\s+(?:${froms.join('|')})$`, 'i');\n\n/**\n * Default unit of measure specifications.\n */\nexport const unitsOfMeasure: UnitOfMeasureDefinitions = {\n  bag: {\n    short: 'bag',\n    plural: 'bags',\n    alternates: [] satisfies string[],\n  },\n  box: {\n    short: 'box',\n    plural: 'boxes',\n    alternates: [] satisfies string[],\n  },\n  bunch: {\n    short: 'bunch',\n    plural: 'bunches',\n    alternates: [] satisfies string[],\n  },\n  can: {\n    short: 'can',\n    plural: 'cans',\n    alternates: [] satisfies string[],\n  },\n  carton: {\n    short: 'carton',\n    plural: 'cartons',\n    alternates: [] satisfies string[],\n  },\n  centimeter: {\n    short: 'cm',\n    plural: 'centimeters',\n    alternates: ['cm.'] satisfies string[],\n  },\n  clove: {\n    short: 'clove',\n    plural: 'cloves',\n    alternates: [] satisfies string[],\n  },\n  container: {\n    short: 'container',\n    plural: 'containers',\n    alternates: [] satisfies string[],\n  },\n  cup: {\n    short: 'c',\n    plural: 'cups',\n    alternates: ['c.', 'C'] satisfies string[],\n  },\n  dash: {\n    short: 'dash',\n    plural: 'dashes',\n    alternates: [] satisfies string[],\n  },\n  drop: {\n    short: 'drop',\n    plural: 'drops',\n    alternates: [] satisfies string[],\n  },\n  ear: {\n    short: 'ear',\n    plural: 'ears',\n    alternates: [] satisfies string[],\n  },\n  'fluid ounce': {\n    short: 'fl oz',\n    plural: 'fluid ounces',\n    alternates: [\n      'fluidounce',\n      'floz',\n      'fl-oz',\n      'fluid-ounce',\n      'fluid-ounces',\n      'fluidounces',\n      'fl ounce',\n      'fl ounces',\n      'fl-ounce',\n      'fl-ounces',\n      'fluid oz',\n      'fluid-oz',\n    ] satisfies string[],\n  },\n  foot: {\n    short: 'ft',\n    plural: 'feet',\n    alternates: ['ft.'] satisfies string[],\n  },\n  gallon: {\n    short: 'gal',\n    plural: 'gallons',\n    alternates: ['gal.'] satisfies string[],\n  },\n  gram: {\n    short: 'g',\n    plural: 'grams',\n    alternates: ['g.'] satisfies string[],\n  },\n  head: {\n    short: 'head',\n    plural: 'heads',\n    alternates: [] satisfies string[],\n  },\n  inch: {\n    short: 'in',\n    plural: 'inches',\n    alternates: ['in.'] satisfies string[],\n  },\n  kilogram: {\n    short: 'kg',\n    plural: 'kilograms',\n    alternates: ['kg.'] satisfies string[],\n  },\n  large: {\n    short: 'lg',\n    plural: 'large',\n    alternates: ['lg', 'lg.'] satisfies string[],\n  },\n  liter: {\n    short: 'l',\n    plural: 'liters',\n    alternates: ['l.'] satisfies string[],\n  },\n  medium: {\n    short: 'md',\n    plural: 'medium',\n    alternates: ['med', 'med.', 'md.'] satisfies string[],\n  },\n  meter: {\n    short: 'm',\n    plural: 'meters',\n    alternates: ['m.'] satisfies string[],\n  },\n  milligram: {\n    short: 'mg',\n    plural: 'milligrams',\n    alternates: ['mg.'] satisfies string[],\n  },\n  milliliter: {\n    short: 'ml',\n    plural: 'milliliters',\n    alternates: ['mL', 'ml.', 'mL.'] satisfies string[],\n  },\n  millimeter: {\n    short: 'mm',\n    plural: 'millimeters',\n    alternates: ['mm.'] satisfies string[],\n  },\n  ounce: {\n    short: 'oz',\n    plural: 'ounces',\n    alternates: ['oz.'] satisfies string[],\n  },\n  pack: {\n    short: 'pack',\n    plural: 'packs',\n    alternates: [] satisfies string[],\n  },\n  package: {\n    short: 'pkg',\n    plural: 'packages',\n    alternates: ['pkg.', 'pkgs', 'pkgs.'] satisfies string[],\n  },\n  piece: {\n    short: 'piece',\n    plural: 'pieces',\n    alternates: ['pc', 'pc.', 'pcs', 'pcs.'] satisfies string[],\n  },\n  pinch: {\n    short: 'pinch',\n    plural: 'pinches',\n    alternates: [] satisfies string[],\n  },\n  pint: {\n    short: 'pt',\n    plural: 'pints',\n    alternates: ['pt.'] satisfies string[],\n  },\n  pound: {\n    short: 'lb',\n    plural: 'pounds',\n    alternates: ['lb.', 'lbs', 'lbs.'] satisfies string[],\n  },\n  quart: {\n    short: 'qt',\n    plural: 'quarts',\n    alternates: ['qt.', 'qts', 'qts.'] satisfies string[],\n  },\n  small: {\n    short: 'sm',\n    plural: 'small',\n    alternates: ['sm.'] satisfies string[],\n  },\n  sprig: {\n    short: 'sprig',\n    plural: 'sprigs',\n    alternates: [] satisfies string[],\n  },\n  stick: {\n    short: 'stick',\n    plural: 'sticks',\n    alternates: [] satisfies string[],\n  },\n  tablespoon: {\n    short: 'tbsp',\n    plural: 'tablespoons',\n    alternates: ['tbsp.', 'T', 'Tbsp.', 'Tbsp'] satisfies string[],\n  },\n  teaspoon: {\n    short: 'tsp',\n    plural: 'teaspoons',\n    alternates: ['tsp.', 't'] satisfies string[],\n  },\n  yard: {\n    short: 'yd',\n    plural: 'yards',\n    alternates: ['yd.', 'yds.'] satisfies string[],\n  },\n} as const;\n","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","import { numericQuantity } from 'numeric-quantity';\nimport {\n  defaultOptions,\n  firstWordRegEx,\n  forsRegEx,\n  fromRegEx,\n  ofRegEx,\n  rangeSeparatorRegEx,\n  trailingQuantityRegEx,\n  unitsOfMeasure,\n} from './constants';\nimport type { Ingredient, ParseIngredientOptions, UnitOfMeasure } from './types';\n\nconst newLineRegExp = /\\r?\\n/;\n\nconst addIdToUomDefinition = ([uom, def]: [string, UnitOfMeasure]) => ({ id: uom, ...def });\n\n/**\n * Parses a string into an array of recipe ingredient objects\n */\nexport const parseIngredient = (\n  /**\n   * The ingredient list, as plain text.\n   */\n  ingredientText: string,\n  /**\n   * Configuration options. Defaults to {@link defaultOptions}.\n   */\n  options: ParseIngredientOptions = defaultOptions\n): Ingredient[] => {\n  const opts = { ...defaultOptions, ...options };\n  const mergedUOMs = { ...unitsOfMeasure, ...opts.additionalUOMs };\n  const uomArray = Object.entries(mergedUOMs).map(addIdToUomDefinition);\n  const uomArrayLength = uomArray.length;\n\n  const ingredientArray = ingredientText\n    .split(newLineRegExp)\n    .map(line => line.trim())\n    .filter(Boolean);\n\n  return ingredientArray.map(line => {\n    const oIng: Ingredient = {\n      quantity: null,\n      quantity2: null,\n      unitOfMeasureID: null,\n      unitOfMeasure: null,\n      description: '',\n      isGroupHeader: false,\n    };\n\n    // Check if the line begins with either (1) at least one numeric character, or\n    // (2) a decimal point followed by at least one numeric character.\n    if (\n      !isNaN(numericQuantity(line[0])) ||\n      (line[0] === '.' && !isNaN(numericQuantity(line.slice(0, 2))))\n    ) {\n      // See how many of the first seven characters constitute a single value. This will be `quantity`.\n      let lenNum = 6;\n      let nqResult = NaN;\n\n      while (lenNum > 0 && isNaN(nqResult)) {\n        nqResult = numericQuantity(line.substring(0, lenNum).trim());\n\n        if (nqResult > -1) {\n          oIng.quantity = nqResult;\n          oIng.description = line.substring(lenNum).trim();\n        }\n\n        lenNum--;\n      }\n    } else {\n      // The first character is not numeric. First check for trailing quantity/uom.\n      const trailingQtyResult = trailingQuantityRegEx.exec(line);\n\n      if (trailingQtyResult && opts.ignoreUOMs.includes(trailingQtyResult.at(-1) ?? '')) {\n        // Trailing quantity detected, but bailing out since the UOM should be ignored.\n        oIng.description = line;\n      } else if (trailingQtyResult) {\n        // Trailing quantity detected with missing or non-ignored UOM.\n        // Remove the quantity and unit of measure from the description.\n        oIng.description = line.replace(trailingQuantityRegEx, '').trim();\n\n        // Trailing quantity/range.\n        const firstQty = trailingQtyResult[3];\n        const secondQty = trailingQtyResult[12];\n        if (!firstQty) {\n          oIng.quantity = numericQuantity(secondQty);\n        } else {\n          oIng.quantity = numericQuantity(firstQty);\n          oIng.quantity2 = numericQuantity(secondQty);\n        }\n\n        // Trailing unit of measure.\n        const uomRaw = trailingQtyResult.at(-1);\n        if (uomRaw) {\n          let uom = '';\n          let uomID = '';\n          let i = -1;\n\n          while (++i < uomArrayLength && !uom) {\n            const { alternates, id, short, plural } = uomArray[i];\n            const versions = [...alternates, id, short, plural];\n            if (versions.includes(uomRaw)) {\n              uom = uomRaw;\n              uomID = id;\n            }\n          }\n\n          if (uom) {\n            oIng.unitOfMeasureID = uomID;\n            oIng.unitOfMeasure = opts.normalizeUOM ? uomID : uom;\n          } else if (oIng.description.match(fromRegEx)) {\n            oIng.description += ` ${uomRaw}`;\n          }\n        }\n      } else {\n        // The first character is not numeric, and no trailing quantity was detected,\n        // so the entire line is the description.\n        oIng.description = line;\n\n        // If the line ends with \":\" or starts with \"For \", then it is assumed to be a group header.\n        if (oIng.description.endsWith(':') || forsRegEx.test(oIng.description)) {\n          oIng.isGroupHeader = true;\n        }\n      }\n    }\n\n    // Now check the description for a `quantity2` at the beginning.\n    // First we look for a dash, emdash, endash, \"to \", or \"or \" to\n    // indicate a range, then process the next seven characters just\n    // like we did for `quantity`.\n    const q2reMatch = rangeSeparatorRegEx.exec(oIng.description);\n    if (q2reMatch) {\n      const q2reMatchLen = q2reMatch[1].length;\n      const nqResultFirstChar = numericQuantity(oIng.description.substring(q2reMatchLen).trim()[0]);\n\n      if (!isNaN(nqResultFirstChar)) {\n        let lenNum = 7;\n        let nqResult = NaN;\n\n        while (--lenNum > 0 && isNaN(nqResult)) {\n          nqResult = numericQuantity(oIng.description.substring(q2reMatchLen, lenNum));\n\n          if (!isNaN(nqResult)) {\n            oIng.quantity2 = nqResult;\n            oIng.description = oIng.description.substring(lenNum).trim();\n          }\n        }\n      }\n    }\n\n    // Check for a known unit of measure\n    const firstWordREMatches = firstWordRegEx.exec(oIng.description);\n\n    if (firstWordREMatches) {\n      const firstWord = firstWordREMatches[1].replace(/\\s+/g, ' ');\n      const remainingDesc = (firstWordREMatches[2] ?? '').trim();\n      if (remainingDesc) {\n        let uom = '';\n        let uomID = '';\n        let i = -1;\n\n        while (++i < uomArrayLength && !uom) {\n          const { alternates, id, short, plural } = uomArray[i];\n          const versions = [...alternates, id, short, plural].filter(\n            unit => !opts.ignoreUOMs.includes(unit)\n          );\n          if (versions.includes(firstWord)) {\n            uom = firstWord;\n            uomID = id;\n          }\n        }\n\n        if (uom) {\n          oIng.unitOfMeasureID = uomID;\n          oIng.unitOfMeasure = opts.normalizeUOM ? uomID : uom;\n          oIng.description = remainingDesc;\n        }\n      }\n    }\n\n    if (!opts.allowLeadingOf && oIng.description.match(ofRegEx)) {\n      oIng.description = oIng.description.replace(ofRegEx, '');\n    }\n\n    return oIng;\n  });\n};\n"],"x_google_ignoreList":[1,2,3,4,5],"mappings":"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"}