import{numericQuantity as e,numericRegex as t}from"numeric-quantity";const n={additionalUOMs:{},allowLeadingOf:!1,normalizeUOM:!1,ignoreUOMs:[]},r=[`For`],i=RegExp(`^(?:${r.join(`|`)})\\s`,`i`),a=[`or`,`to`],o=`(-|–|—|(?:${a.join(`|`)})\\s)`,s=RegExp(`^${o}`,`i`),c=/^(fl(?:uid)?(?:\s+|-)(?:oz|ounces?)|\w+[-.]?)(.+)?/,l=t.source.replace(/^\^/,``).replace(/\$$/,``),u=RegExp(`(,|:|-|–|—|x|⨯)?\\s*((${l})\\s*(${o}))?\\s*(${l})\\s*(fl(?:uid)?(?:\\s+|-)(?:oz|ounces?)|\\w+)?$`,`i`),d=[`of`],f=RegExp(`^(?:${d.join(`|`)})\\s+`,`i`),p=[`from`,`of`],m=RegExp(`\\s+(?:${p.join(`|`)})$`,`i`),h={bag:{short:`bag`,plural:`bags`,alternates:[]},box:{short:`box`,plural:`boxes`,alternates:[]},bunch:{short:`bunch`,plural:`bunches`,alternates:[]},can:{short:`can`,plural:`cans`,alternates:[]},carton:{short:`carton`,plural:`cartons`,alternates:[]},centimeter:{short:`cm`,plural:`centimeters`,alternates:[`cm.`]},clove:{short:`clove`,plural:`cloves`,alternates:[]},container:{short:`container`,plural:`containers`,alternates:[]},cup:{short:`c`,plural:`cups`,alternates:[`c.`,`C`]},dash:{short:`dash`,plural:`dashes`,alternates:[]},drop:{short:`drop`,plural:`drops`,alternates:[]},ear:{short:`ear`,plural:`ears`,alternates:[]},"fluid ounce":{short:`fl oz`,plural:`fluid ounces`,alternates:[`fluidounce`,`floz`,`fl-oz`,`fluid-ounce`,`fluid-ounces`,`fluidounces`,`fl ounce`,`fl ounces`,`fl-ounce`,`fl-ounces`,`fluid oz`,`fluid-oz`]},foot:{short:`ft`,plural:`feet`,alternates:[`ft.`]},gallon:{short:`gal`,plural:`gallons`,alternates:[`gal.`]},gram:{short:`g`,plural:`grams`,alternates:[`g.`]},head:{short:`head`,plural:`heads`,alternates:[]},inch:{short:`in`,plural:`inches`,alternates:[`in.`]},kilogram:{short:`kg`,plural:`kilograms`,alternates:[`kg.`]},large:{short:`lg`,plural:`large`,alternates:[`lg`,`lg.`]},liter:{short:`l`,plural:`liters`,alternates:[`l.`]},medium:{short:`md`,plural:`medium`,alternates:[`med`,`med.`,`md.`]},meter:{short:`m`,plural:`meters`,alternates:[`m.`]},milligram:{short:`mg`,plural:`milligrams`,alternates:[`mg.`]},milliliter:{short:`ml`,plural:`milliliters`,alternates:[`mL`,`ml.`,`mL.`]},millimeter:{short:`mm`,plural:`millimeters`,alternates:[`mm.`]},ounce:{short:`oz`,plural:`ounces`,alternates:[`oz.`]},pack:{short:`pack`,plural:`packs`,alternates:[]},package:{short:`pkg`,plural:`packages`,alternates:[`pkg.`,`pkgs`,`pkgs.`]},piece:{short:`piece`,plural:`pieces`,alternates:[`pc`,`pc.`,`pcs`,`pcs.`]},pinch:{short:`pinch`,plural:`pinches`,alternates:[]},pint:{short:`pt`,plural:`pints`,alternates:[`pt.`]},pound:{short:`lb`,plural:`pounds`,alternates:[`lb.`,`lbs`,`lbs.`]},quart:{short:`qt`,plural:`quarts`,alternates:[`qt.`,`qts`,`qts.`]},small:{short:`sm`,plural:`small`,alternates:[`sm.`]},sprig:{short:`sprig`,plural:`sprigs`,alternates:[]},stick:{short:`stick`,plural:`sticks`,alternates:[]},tablespoon:{short:`tbsp`,plural:`tablespoons`,alternates:[`tbsp.`,`T`,`Tbsp.`,`Tbsp`]},teaspoon:{short:`tsp`,plural:`teaspoons`,alternates:[`tsp.`,`t`]},yard:{short:`yd`,plural:`yards`,alternates:[`yd.`,`yds.`]}},g=/\r?\n/,_=([e,t])=>({id:e,...t}),v=(t,r=n)=>{let a={...n,...r},o={...h,...a.additionalUOMs},l=Object.entries(o).map(_),d=l.length,p=t.split(g).map(e=>e.trim()).filter(Boolean);return p.map(t=>{let n={quantity:null,quantity2:null,unitOfMeasureID:null,unitOfMeasure:null,description:``,isGroupHeader:!1};if(!isNaN(e(t[0]))||t[0]===`.`&&!isNaN(e(t.slice(0,2)))){let r=6,i=NaN;for(;r>0&&isNaN(i);)i=e(t.substring(0,r).trim()),i>-1&&(n.quantity=i,n.description=t.substring(r).trim()),r--}else{var r;let o=u.exec(t);if(o&&a.ignoreUOMs.includes((r=o.at(-1))==null?``:r))n.description=t;else if(o){n.description=t.replace(u,``).trim();let r=o[3],i=o[12];r?(n.quantity=e(r),n.quantity2=e(i)):n.quantity=e(i);let s=o.at(-1);if(s){let e=``,t=``,r=-1;for(;++r<d&&!e;){let{alternates:n,id:i,short:a,plural:o}=l[r],c=[...n,i,a,o];c.includes(s)&&(e=s,t=i)}e?(n.unitOfMeasureID=t,n.unitOfMeasure=a.normalizeUOM?t:e):n.description.match(m)&&(n.description+=` ${s}`)}}else n.description=t,(n.description.endsWith(`:`)||i.test(n.description))&&(n.isGroupHeader=!0)}let o=s.exec(n.description);if(o){let t=o[1].length,r=e(n.description.substring(t).trim()[0]);if(!isNaN(r)){let r=7,i=NaN;for(;--r>0&&isNaN(i);)i=e(n.description.substring(t,r)),isNaN(i)||(n.quantity2=i,n.description=n.description.substring(r).trim())}}let p=c.exec(n.description);if(p){var h;let e=p[1].replace(/\s+/g,` `),t=((h=p[2])==null?``:h).trim();if(t){let r=``,i=``,o=-1;for(;++o<d&&!r;){let{alternates:t,id:n,short:s,plural:c}=l[o],u=[...t,n,s,c].filter(e=>!a.ignoreUOMs.includes(e));u.includes(e)&&(r=e,i=n)}r&&(n.unitOfMeasureID=i,n.unitOfMeasure=a.normalizeUOM?i:r,n.description=t)}}return!a.allowLeadingOf&&n.description.match(f)&&(n.description=n.description.replace(f,``)),n})};export{n as defaultOptions,c as firstWordRegEx,r as fors,i as forsRegEx,m as fromRegEx,p as froms,f as ofRegEx,d as ofs,v as parseIngredient,s as rangeSeparatorRegEx,a as rangeSeparatorWords,u as trailingQuantityRegEx,h as unitsOfMeasure};
//# sourceMappingURL=parse-ingredient.production.mjs.map